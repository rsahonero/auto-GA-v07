package testingui.diplomadoumss.org.core;

import org.openqa.selenium.WebDriver;
import org.openqa.selenium.support.ui.WebDriverWait;
import testingui.diplomadoumss.org.utilsfiles.PropertyAccesor;

import java.util.concurrent.TimeUnit;

<<<<<<< HEAD
=======
/**
 * @author Marcelo Garay
 * @project testingui.diplomadoumss.org
 */
>>>>>>> 69bc16005c119c10572e887f82431b809b02426b
public class DriverManager {
    private static DriverManager ourInstance = new DriverManager();
    private WebDriver webDriver;
    private WebDriverWait webDriverWait;
    private static final int IMPLICIT_TIME_WAIT = PropertyAccesor.getInstance().getImplicitTimeWait();
    private static final int EXPLICIT_TIME_WAIT = PropertyAccesor.getInstance().getExplicitTimeWait();

    public static DriverManager getInstance() {
        return ourInstance;
    }

    private DriverManager() {
        BroserType browserType = BroserType.valueOf(PropertyAccesor.getInstance().getBrowser());
        Browser browser = DriverFactory.getInstance().getBrowser(browserType);
        webDriver =  browser.getWebDriver();
<<<<<<< HEAD

        webDriver.manage().window().maximize();

=======
        webDriver.manage().window().maximize();
>>>>>>> 69bc16005c119c10572e887f82431b809b02426b
        restorePreviousTimeWait();
    }

    public WebDriver getWebDriver(){
        return webDriver;
    }

<<<<<<< HEAD

=======
>>>>>>> 69bc16005c119c10572e887f82431b809b02426b
    public void restorePreviousTimeWait() {
        setImplicitTimeWait(IMPLICIT_TIME_WAIT);
        setExplicitTimeWait(EXPLICIT_TIME_WAIT);
    }

    public void setImplicitTimeWait(int implicitTimeWait) {
        webDriver.manage().timeouts().implicitlyWait(implicitTimeWait, TimeUnit.SECONDS);
    }

    public void setExplicitTimeWait(int explicitTimeWait) {
        webDriverWait = new WebDriverWait(webDriver, explicitTimeWait);
    }

    public WebDriverWait getWebDriverWait() {
        return webDriverWait;
    }
}
